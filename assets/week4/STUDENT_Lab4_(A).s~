###########################################################
#       Lab 4 - part (A)
#   Name:
#   Date:
#
#   Description:
#       Write one subprogram beside main (i.e. read_values) and main will call this subprograms:
#
#       "read_values":
#               This subprogram reads series of non-negative (greater than or equal to zero)
#               values from the console until -1 is entered. If another negative value
#               (i.e. not -1) is entered, then print an error message, reject the negative
#               value, and continue reading entries. In the end, subprogram will return sum and
#               count in registers $v0 and $v1 respectively.
#       
#       "main":
#               From main, call subprogram "read_values" and store returned sum and count in static variables
#               "sum_var_p" and "count_var_p" respectively. Then load values from static variables and 
#               divide sum by count to get average. Then print average. Remember, before dividing sum by
#               count, you (as a programmer) need to check if count is not zero, if count is zero then print
#                zero for average. 
#
#   High level design:
#       main:
#           sum & count <-- read_values(null)
#           store sum & count in static variables "sum_var_p", "count_var_p" respectively
#           reload sum & count from static variables "sum_var_p", "count_var_p" respectively
#           If count is not zero then divide sum by count to get average, otherwise set average to zero
#           print average
#
#       read_values:
#           initialize sum and count to 0
#
#           while (true) {
#               prompt for number and read number
#
#               if (number == -1) {
#                   break
#               }
#               
#               if (number <= 0) {
#                   print error message
#               } 
#               
#               sum = sum + number
#               count = count + 1
#           }
#
#           return sum & count in register $v0 and $v1 respectively
#
###########################################################
#       Register Usage
#   $t0     Holds the sum
#   $t1     Holds the count
#   $t3
#   $t4
#   $t5
#   $t6
#   $t7
#   $t8
#   $t9     temporally register
###########################################################
        .data

###########################################################
        .text
main:

mainEnd:
    li $v0, 10
    syscall                             # Halt
###########################################################
#       read_values subprogram
#
#   Subprogram description:
#       This subprogram reads series of non-negative (greater than or equal to zero)
#       values from the console until -1 is entered. If another negative value
#       (i.e. not -1) is entered, then print an error message, reject the negative
#       value, and continue reading entries. In the end, subprogram will return sum and
#       count in registers $v0 and $v1 respectively.
#
###########################################################
#       Arguments IN and OUT of subprogram
#   $a0
#   $a1
#   $a2
#   $a3
#   $v0     Holds sum
#   $v1     Holds count
#   $sp
#   $sp+4
#   $sp+8
#   $sp+12
###########################################################
#       Register Usage
#   $t0     Holds the sum
#   $t1     Holds the count
#   $t2     Holds value -1
###########################################################
        .data

###########################################################
        .text
read_values:

read_values_end:
    jr $ra                              # jump back to the main
###########################################################
